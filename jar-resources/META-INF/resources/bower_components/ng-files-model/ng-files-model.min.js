(function(){angular.module("ng-files-model",[]).directive("ngFilesModel",["$parse",function(a){return{restrict:"A",scope:{callback:"=",data:"=",model:"="},link:function(d,c,b){var e=b.multiple;c.bind("change",function(f){if(e){d.model=[]}else{d.model={}}angular.forEach(c[0].files,function(i,h){var g=new FileReader();g.onload=function(j){d.$apply(function(){var k={lastModified:f.target.files[h].lastModified,lastModifiedDate:f.target.files[h].lastModifiedDate,name:f.target.files[h].name,size:f.target.files[h].size,type:f.target.files[h].type,file:j.target.result.replace("data:"+f.target.files[h].type+";base64,","")};if(typeof(d.callback)=="function"){d.callback(k,d.data)}if(e){d.model.push(k)}else{d.model=k}})};g.readAsDataURL(i)})})}}}]);if(typeof exports!=="undefined"){exports["default"]=angular.module("ng-files-model");module.exports=exports["default"]}})();